# Documenta√ß√£o do Sistema de Chamados de Marketing

## üìã Vis√£o Geral

O sistema de chamados de marketing permite que colaboradores solicitem servi√ßos do time de marketing de forma organizada e estruturada. O sistema gerencia todo o ciclo de vida do chamado, desde a abertura at√© a finaliza√ß√£o, com controle de status, coment√°rios, anexos e notifica√ß√µes.

## üéØ Tipos de Solicita√ß√£o Dispon√≠veis

### 1. **Cria√ß√£o de Arte** (`arte`)
- **Descri√ß√£o**: Solicita√ß√£o para cria√ß√£o de materiais visuais
- **Campos Espec√≠ficos**: 
  - **Dimens√µes/Formato** (obrigat√≥rio)
- **Workflow**: Design ‚Üí Revis√£o ‚Üí Aprova√ß√£o ‚Üí Entrega
- **Exemplos**: Banners, flyers, posts para redes sociais, logos

### 2. **Sugest√£o de Postagem** (`postagem`)
- **Descri√ß√£o**: Proposta de conte√∫do para redes sociais
- **Campos Espec√≠ficos**: Nenhum adicional
- **Workflow**: An√°lise ‚Üí Cria√ß√£o ‚Üí Agendamento ‚Üí Publica√ß√£o
- **Exemplos**: Posts para Instagram, LinkedIn, Facebook

### 3. **Solicita√ß√£o de Brinde** (`brinde`)
- **Descri√ß√£o**: Pedido de materiais promocionais
- **Campos Espec√≠ficos**: Nenhum adicional
- **Workflow**: An√°lise ‚Üí Cota√ß√£o ‚Üí Aprova√ß√£o ‚Üí Produ√ß√£o ‚Üí Entrega
- **Exemplos**: Canetas, camisetas, mugs, folders

### 4. **A√ß√£o de Campanha** (`campanha`)
- **Descri√ß√£o**: Estrat√©gias de marketing e campanhas
- **Campos Espec√≠ficos**: Nenhum adicional
- **Workflow**: Planejamento ‚Üí Execu√ß√£o ‚Üí Monitoramento ‚Üí Relat√≥rio
- **Exemplos**: Campanhas de e-mail, eventos, parcerias

### 5. **Revis√£o de Conte√∫do** (`revisao`)
- **Descri√ß√£o**: An√°lise e corre√ß√£o de materiais existentes
- **Campos Espec√≠ficos**: Nenhum adicional
- **Workflow**: An√°lise ‚Üí Corre√ß√µes ‚Üí Valida√ß√£o ‚Üí Aprova√ß√£o
- **Exemplos**: Revis√£o de textos, ajustes em artes

### 6. **Apoio a Evento** (`evento`)
- **Descri√ß√£o**: Suporte para eventos corporativos
- **Campos Espec√≠ficos**: Nenhum adicional
- **Workflow**: Planejamento ‚Üí Prepara√ß√£o ‚Üí Execu√ß√£o ‚Üí P√≥s-evento
- **Exemplos**: Material para feiras, eventos internos, apresenta√ß√µes

### 7. **Outro** (`outro`)
- **Descri√ß√£o**: Solicita√ß√µes n√£o categorizadas
- **Campos Espec√≠ficos**: 
  - **Descreva o tipo de solicita√ß√£o** (obrigat√≥rio)
- **Workflow**: An√°lise ‚Üí Defini√ß√£o de processo ‚Üí Execu√ß√£o
- **Exemplos**: Consultorias, pesquisas, projetos especiais

## üìù Campos do Formul√°rio

### **Campos Obrigat√≥rios** (*)
1. **T√≠tulo** - Nome descritivo do chamado
2. **Tipo de Solicita√ß√£o** - Categoria principal do pedido
3. **Categoria** - Projeto ou Refer√™ncia
4. **Descri√ß√£o detalhada** - Detalhamento completo da solicita√ß√£o

### **Campos Condicionais**
- **Dimens√µes/Formato** - Obrigat√≥rio apenas para "Cria√ß√£o de Arte"
- **Descreva o tipo de solicita√ß√£o** - Obrigat√≥rio apenas para "Outro"

### **Campos Opcionais**
- **Anexos** - Arquivos de suporte (PDF, JPG, PNG, DOC, XLS)
- **Links de refer√™ncia** - URLs de materiais de exemplo
- **Envolvidos** - Usu√°rios que devem ser notificados

## üîÑ Workflow de Status

### **1. Novo** (Status Inicial)
- Chamado rec√©m-criado
- Aguarda an√°lise do time de marketing
- **A√ß√µes dispon√≠veis**: Coment√°rios, adicionar anexos

### **2. Em Triagem**
- Time de marketing analisando a solicita√ß√£o
- Definindo respons√°vel e cronograma
- **A√ß√µes dispon√≠veis**: Coment√°rios, definir respons√°vel, definir datas

### **3. Em Andamento**
- Trabalho sendo executado
- **A√ß√µes dispon√≠veis**: Coment√°rios, upload de anexos, atualiza√ß√µes

### **4. Aguardando Valida√ß√£o**
- Material pronto para aprova√ß√£o
- **A√ß√µes dispon√≠veis**: 
  - Coment√°rios
  - **Bot√£o "Aprovar"** ‚Üí Muda status para "Finalizado"
  - **Bot√£o "Solicitar Ajustes"** ‚Üí Muda status para "Em andamento"
- **Workflow**: Valida√ß√£o ‚Üí Aprova√ß√£o ou Retorno para ajustes

### **5. Aguardando Retorno do Solicitante**
- Aguardando feedback do solicitante
- **A√ß√µes dispon√≠veis**: 
  - Coment√°rios
  - **Bot√£o "Aceitar"** ‚Üí Muda status para "Finalizado"
  - **Bot√£o "Recusar"** ‚Üí Muda status para "Em andamento"
  - **Bot√£o "Solicitar Mais Info"** ‚Üí Muda status para "Em andamento"
- **Workflow**: Avalia√ß√£o ‚Üí Aceita√ß√£o, Recusa ou Solicita√ß√£o de informa√ß√µes

### **6. Finalizado**
- Chamado conclu√≠do com sucesso
- **A√ß√µes dispon√≠veis**: Apenas visualiza√ß√£o

## üë• Categorias

### **Projeto** (`projeto`)
- Solicita√ß√µes que geram novos materiais
- Requer cria√ß√£o do zero
- Exemplos: Cria√ß√£o de arte, campanhas, eventos

### **Refer√™ncia** (`referencia`)
- Solicita√ß√µes baseadas em materiais existentes
- Adapta√ß√£o ou revis√£o de conte√∫do
- Exemplos: Revis√£o de textos, ajustes em artes

## üìß Sistema de Notifica√ß√µes

### **E-mails Autom√°ticos**
1. **Confirma√ß√£o de Cria√ß√£o** - Enviado ao solicitante
2. **Notifica√ß√£o ao Marketing** - Alerta o time sobre novo chamado
3. **Atualiza√ß√µes de Status** - Notifica mudan√ßas importantes
4. **Coment√°rios** - Notifica novos coment√°rios aos envolvidos

### **Destinat√°rios**
- **Solicitante**: Sempre notificado
- **Time de Marketing**: marketing@conlinebr.com.br
- **Envolvidos**: Usu√°rios selecionados no formul√°rio

## üìé Sistema de Anexos

### **Tipos Aceitos**
- **Imagens**: JPG, JPEG, PNG
- **Documentos**: PDF, DOC, DOCX
- **Planilhas**: XLS, XLSX

### **Funcionalidades**
- **Upload M√∫ltiplo**: M√∫ltiplos arquivos simult√¢neos
- **Visualiza√ß√£o**: Preview de imagens
- **Download**: Acesso direto aos arquivos
- **Organiza√ß√£o**: Listagem por data de upload

## üí¨ Sistema de Coment√°rios

### **Tipos de Coment√°rio**
- **P√∫blico**: Vis√≠vel para todos os envolvidos
- **Interno**: Apenas para o time de marketing

### **Funcionalidades**
- **Tempo Real**: Atualiza√ß√£o via Socket.IO
- **Notifica√ß√µes**: Alertas por e-mail
- **Hist√≥rico**: Timeline completa de intera√ß√µes

## üîç Filtros e Busca

### **Filtros Dispon√≠veis**
- **Palavra-chave**: Busca em t√≠tulo e descri√ß√£o
- **Tipo**: Filtro por categoria de solicita√ß√£o
- **Status**: Filtro por situa√ß√£o atual
- **Respons√°vel**: Filtro por pessoa respons√°vel
- **Solicitante**: Filtro por quem abriu o chamado

### **Ordena√ß√£o**
- **Padr√£o**: Mais recentes primeiro
- **Status**: Agrupamento por situa√ß√£o
- **Prioridade**: Baseada em tipo e urg√™ncia

## üë§ Controle de Permiss√µes

### **Colaboradores**
- **Criar**: Abrir novos chamados
- **Visualizar**: Ver chamados pr√≥prios e envolvidos
- **Comentar**: Adicionar coment√°rios p√∫blicos
- **Anexar**: Upload de arquivos

### **Time de Marketing**
- **Todas as permiss√µes de colaboradores**
- **Editar**: Modificar chamados
- **Status**: Alterar situa√ß√£o dos chamados
- **Respons√°vel**: Definir pessoa respons√°vel
- **Datas**: Definir cronograma
- **Coment√°rios Internos**: Coment√°rios privados

### **Administradores**
- **Todas as permiss√µes**
- **Excluir**: Remover chamados
- **Relat√≥rios**: Acesso a m√©tricas
- **Configura√ß√µes**: Ajustes do sistema

## üìä M√©tricas e Relat√≥rios

### **Indicadores Dispon√≠veis**
- **Total de Chamados**: Por per√≠odo
- **Tempo M√©dio**: De abertura at√© finaliza√ß√£o
- **Distribui√ß√£o por Tipo**: Percentual por categoria
- **Performance**: Chamados por respons√°vel
- **Satisfa√ß√£o**: Baseada em feedback

### **Relat√≥rios**
- **Mensal**: Resumo de atividades
- **Por Respons√°vel**: Performance individual
- **Por Tipo**: An√°lise de demandas
- **Tend√™ncias**: Evolu√ß√£o temporal

## üöÄ Fluxo Completo de Cria√ß√£o

### **1. Abertura do Chamado**
1. Usu√°rio acessa a p√°gina de cria√ß√£o
2. Preenche campos obrigat√≥rios
3. Seleciona tipo de solicita√ß√£o
4. Adiciona campos espec√≠ficos (se aplic√°vel)
5. Anexa arquivos (opcional)
6. Seleciona envolvidos (opcional)
7. Submete formul√°rio

### **2. Processamento Inicial**
1. Sistema valida dados
2. Cria registro no banco
3. Salva anexos
4. Registra envolvidos
5. Envia e-mails de notifica√ß√£o
6. Retorna confirma√ß√£o

### **3. An√°lise do Marketing**
1. Time recebe notifica√ß√£o
2. Analisa solicita√ß√£o
3. Define respons√°vel
4. Estabelece cronograma
5. Atualiza status para "Em Triagem"

### **4. Execu√ß√£o**
1. Respons√°vel executa trabalho
2. Atualiza progresso via coment√°rios
3. Faz upload de materiais
4. Solicita valida√ß√£o quando necess√°rio

### **5. Valida√ß√£o e Entrega**
1. Material √© apresentado ao solicitante
2. Solicitante aprova ou solicita ajustes
3. Ajustes s√£o feitos (se necess√°rio)
4. Chamado √© finalizado

## ‚ö†Ô∏è Regras e Valida√ß√µes

### **Valida√ß√µes de Formul√°rio**
- **T√≠tulo**: M√°ximo 255 caracteres
- **Descri√ß√£o**: M√≠nimo 10 caracteres
- **Anexos**: M√°ximo 10MB por arquivo
- **Links**: Formato URL v√°lido
- **Envolvidos**: M√°ximo 10 usu√°rios

### **Regras de Neg√≥cio**
- **Datas**: Definidas apenas pelo marketing
- **Status**: Apenas marketing pode alterar
- **Respons√°vel**: Apenas marketing pode definir
- **Exclus√£o**: Apenas administradores
- **Coment√°rios Internos**: Apenas marketing

## üéØ Bot√µes de A√ß√£o por Status

### **Status: "Aguardando Valida√ß√£o"**
Aparecem os seguintes bot√µes:

#### **‚úÖ Aprovar**
- **A√ß√£o**: Muda status para "Finalizado"
- **Coment√°rio Autom√°tico**: "Material aprovado com sucesso!"
- **Quem pode usar**: Colaboradores (p√°gina view.html)
- **Resultado**: Chamado finalizado

#### **‚ö†Ô∏è Solicitar Ajustes**
- **A√ß√£o**: Muda status para "Em andamento"
- **Coment√°rio Autom√°tico**: "Ajustes solicitados: [descri√ß√£o]"
- **Quem pode usar**: Colaboradores (p√°gina view.html)
- **Resultado**: Chamado retorna para execu√ß√£o

### **Status: "Aguardando Retorno do Solicitante"**
Aparecem os seguintes bot√µes:

#### **‚úÖ Aceitar**
- **A√ß√£o**: Muda status para "Finalizado"
- **Coment√°rio Autom√°tico**: "Material aceito pelo solicitante!"
- **Quem pode usar**: Solicitante e envolvidos (p√°gina view.html)
- **Resultado**: Chamado finalizado

#### **‚ùå Recusar**
- **A√ß√£o**: Muda status para "Em andamento"
- **Coment√°rio Autom√°tico**: "Material recusado: [motivo]"
- **Quem pode usar**: Solicitante e envolvidos (p√°gina view.html)
- **Resultado**: Chamado retorna para execu√ß√£o

#### **‚ùì Solicitar Mais Info**
- **A√ß√£o**: Muda status para "Em andamento"
- **Coment√°rio Autom√°tico**: "Solicita√ß√£o de informa√ß√µes: [detalhes]"
- **Quem pode usar**: Solicitante e envolvidos (p√°gina view.html)
- **Resultado**: Chamado retorna para execu√ß√£o

### **Comportamento dos Bot√µes**
- **Visibilidade**: Bot√µes aparecem apenas nos status espec√≠ficos na p√°gina de visualiza√ß√£o
- **Localiza√ß√£o**: Bot√µes ficam no cabe√ßalho da p√°gina view.html (apenas para colaboradores)
- **Confirma√ß√£o**: Todos os bot√µes pedem confirma√ß√£o via modal antes de executar
- **Coment√°rios**: A√ß√µes geram coment√°rios autom√°ticos no hist√≥rico
- **Notifica√ß√µes**: Mudan√ßas de status enviam e-mails autom√°ticos
- **Interface**: Status badge e bot√µes s√£o atualizados em tempo real
- **Administra√ß√£o**: P√°gina edit.html n√£o possui bot√µes de a√ß√£o (apenas edi√ß√£o manual)

### **Limita√ß√µes**
- **Anexos**: 5 arquivos por chamado
- **Coment√°rios**: Sem limite
- **Envolvidos**: 10 usu√°rios por chamado
- **Tempo**: Sem prazo autom√°tico

## üîß Configura√ß√µes T√©cnicas

### **Banco de Dados**
- **Tabela Principal**: `marketing_tickets`
- **Coment√°rios**: `marketing_ticket_comments`
- **Anexos**: `marketing_ticket_attachments`
- **Envolvidos**: `marketing_ticket_involved`

### **APIs Dispon√≠veis**
- `GET /api/marketing/tickets` - Listar chamados
- `POST /api/marketing/tickets` - Criar chamado
- `GET /api/marketing/tickets/:id` - Detalhes
- `PUT /api/marketing/tickets/:id` - Atualizar
- `DELETE /api/marketing/tickets/:id` - Excluir
- `GET /api/marketing/tickets/users` - Listar usu√°rios
- `POST /api/marketing/tickets/:id/comments` - Adicionar coment√°rio
- `POST /api/marketing/tickets/:id/attachments` - Upload anexo

### **Tecnologias**
- **Frontend**: HTML5, CSS3, JavaScript, Bootstrap 5
- **Backend**: Node.js, Express
- **Banco**: MySQL
- **Upload**: Multer
- **E-mail**: Nodemailer
- **Tempo Real**: Socket.IO

## üìû Suporte e Contato

Para d√∫vidas sobre o sistema de chamados de marketing:
- **E-mail**: petryck.leite@conlinebr.com.br
- **Documenta√ß√£o**: Este arquivo
- **Treinamento**: Solicitar ao time de TI

---

*Documenta√ß√£o atualizada em: Dezembro 2024*
*Vers√£o do Sistema: 1.0* 